# Totally not generated by DeepSeek out of my old nginx configs

location ~* ^/(config|data|incl)/ { deny all; return 403; }
location ~* \.json$ { deny all; return 403; }

location ~ ^/sfx/ {
	rewrite ^/sfx/(.+)$ /sfx/handler.php?request=$1 last;
}

location ~ ^/music/ {
	rewrite ^/music/(.+)$ /music/handler.php?request=$1 last;
}

location ~ /dashboard/clan/ {
	rewrite ^/dashboard/clan/(.+)$ /dashboard/clan/index.php?id=$1 last;
}

location ~ /dashboard/profile/ {
	rewrite ^/dashboard/profile/(.+)$ /dashboard/profile/index.php?id=$1 last;
}

location ~ /dashboard/messenger/ {
	rewrite ^/dashboard/messenger/(.+)$ /dashboard/messenger/index.php?id=$1 last;
}

location ~ /dashboard/browse/levels/ {
	rewrite ^/dashboard/browse/levels/(.+)$ /dashboard/browse/levels.php?id=$1 last;
}

location ~ /dashboard/browse/lists/ {
	rewrite ^/dashboard/browse/lists/(.+)$ /dashboard/browse/lists.php?id=$1 last;
}

location ~ /dashboard/browse/mappacks/ {
	rewrite ^/dashboard/browse/mappacks/(.+)$ /dashboard/browse/mappacks.php?id=$1 last;
}

location ~ /dashboard/browse/gauntlets/ {
	rewrite ^/dashboard/browse/gauntlets/(.+)$ /dashboard/browse/gauntlets.php?id=$1 last;
}

location ~ /dashboard/browse/accounts/ {
	rewrite ^/dashboard/browse/accounts/(.+)$ /dashboard/browse/accounts.php?id=$1 last;
}

location / {
	try_files $uri $uri/ $uri.php?$query_string;
}